<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ESL Placement Test</title>
  <meta name="google-site-verification" content="j8wJCiLTFIvrqtx81YIfZVDvnhBW1qAJKeBwV2fFPUo" />

  <!-- Meta Tags in English -->
  <meta name="description" content="Free ESL Placement Test. Check your English level from A1 to C2 with this interactive quiz.">
  <meta name="keywords" content="English test, ESL placement, online quiz, English levels, A1, A2, B1, B2, C1, C2">
  <meta name="author" content="Your Name or Website">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Meta Tags in Albanian -->
  <meta name="description" lang="sq" content="Test vendosjeje në anglisht. Kontrollo nivelin tënd të anglishtes nga A1 deri në C2 me këtë quiz interaktiv.">
  <meta name="keywords" lang="sq" content="testo nivelin e gjuhes angleze, test vendosjeje, quiz online, nivelet e anglishtes, A1, A2, B1, B2, C1, C2">
  <meta name="author" content="Emri ose faqja juaj">

  <!-- Social preview (Open Graph + Twitter) -->
  <!-- IMPORTANT: make sure the image exists at this exact URL (case-sensitive).
       File name has a space -> must be URL-encoded as %20 -->
  <link rel="canonical" href="https://meso-anglisht-nga-shtepia.github.io/Test-Your-Vocabulary-Power/" />
  <meta property="og:title" content="ESL Placement Test" />
  <meta property="og:description" content="Free ESL Placement Test — 50 questions across A1–C2. Instant score + level." />
  <meta property="og:url" content="https://meso-anglisht-nga-shtepia.github.io/Test-Your-Vocabulary-Power/" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="sq_AL" />
  <meta property="og:image" content="https://meso-anglisht-nga-shtepia.github.io/Test-Your-Vocabulary-Power/123.jpg" />
  <meta property="og:image:secure_url" content="https://meso-anglisht-nga-shtepia.github.io/Test-Your-Vocabulary-Power/123.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="ESL Placement Test — A1 to C2" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ESL Placement Test" />
  <meta name="twitter:description" content="Free ESL Placement Test — 50 questions across A1–C2. Instant score + level." />
  <meta name="twitter:image" content="https://meso-anglisht-nga-shtepia.github.io/Test-Your-Vocabulary-Power/123.jpg" />
  <meta name="twitter:image:alt" content="ESL Placement Test — A1 to C2" />

  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('image.jpg') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
    }
    #container {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      overflow: hidden;
      position: relative;
      padding-bottom: 80px;
    }
    #info, #quiz-box, #result {
      padding: 30px;
      text-align: center;
    }
    h2 { margin-bottom: 20px; }
    .option {
      display: block;
      background: #f0f0f0;
      padding: 12px;
      margin: 10px 0;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }
    .option:hover { background: #e0e0e0; }
    .correct { background: #4CAF50; color: #fff; }
    .wrong { background: #f44336; color: #fff; }
    #progress-container {
      width: 90%;
      background: #ddd;
      height: 20px;
      border-radius: 10px;
      margin: 20px auto;
    }
    #progress-bar {
      height: 100%;
      width: 0%;
      background: #4CAF50;
      border-radius: 10px;
      transition: width 0.3s;
    }
    button {
      padding: 12px 25px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      background: #2193b0;
      color: white;
      transition: 0.3s;
      margin: 5px;
    }
    button:hover { background: #6dd5ed; color: #000; }
    #skip-btn {
      margin-top: 15px;
      background: #f39c12;
      color: white;
    }
    #skip-btn:hover {
      background: #e67e22;
      color: black;
    }
    footer, .site-footer {
      display: none !important;
    }
  </style>
</head>
<body>

<div id="container">
  <!-- Info / Start screen -->
  <div id="info">
    <h2>Welcome to the ESL Placement Test</h2>
    <p>You will be presented with multiple-choice questions to determine your English level (A1–C2).<br>
    You can skip questions or move forward, but you cannot go back.<br>
    Correct answers turn green, incorrect turn red.<br>
    Your progress will be shown below.<br>
    Click "Start Quiz" when ready.</p>
    <button onclick="startQuiz()">Start Quiz</button>
  </div>

  <!-- Quiz box -->
  <div id="quiz-box" style="display:none;">
    <div id="question-container"></div>
    <div id="progress-container"><div id="progress-bar"></div></div>
    <button id="skip-btn" onclick="skipQuestion()">Skip Question</button>
  </div>

  <!-- Result box -->
  <div id="result" style="display:none;"></div>
</div>

<script>
/* ====== GOOGLE SHEETS CONFIG (ADD YOUR URL) ======
   Replace with your Apps Script Web App URL (must end with /exec) */
const SHEET_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz202_LPY4Na829_kVsWdT3Z7aOYVasEZ2dNei2pJGaSKQkPc1KHtO8Sdc5D_bG2L_u/exec";

/* ====== QUIZ DATA (UNCHANGED) ====== */
const quizData = [
  // A1 (Beginner) 1-8
  {question: "What’s your name?", options: ["I name John","My name John","My name is John","I’m name John","Name is John"], correct:2},
  {question: "I ___ a student.", options: ["is","are","am","be","being"], correct:2},
  {question: "They ___ from Spain.", options: ["is","are","am","be","was"], correct:1},
  {question: "She ___ to school every day.", options: ["go","goes","going","goed","is go"], correct:1},
  {question: "Which one is a color?", options: ["Chair","Blue","Run","Book","Sleep"], correct:1},
  {question: "We ___ TV now.", options: ["watch","watches","are watching","watching","is watching"], correct:2},
  {question: "Choose the correct sentence.", options: ["He don’t like pizza.","He doesn’t like pizza.","He isn’t likes pizza.","He not like pizza.","He no like pizza."], correct:1},
  {question: "___ is your favorite food?", options: ["Who","What","Where","How","Why"], correct:1},

  // A2 (Elementary) 9-16
  {question: "If it ___ tomorrow, we’ll stay home.", options:["rains","rained","raining","rain","will rain"], correct:0},
  {question: "She ___ to London twice.", options:["has been","was","is","had been","goes"], correct:0},
  {question: "They ___ dinner when I called.", options:["have","having","were having","has","are have"], correct:2},
  {question: "Which one is correct?", options:["I have much friends.","I have many friends.","I have a lots of friends.","I have lot friends.","I have plenty friend."], correct:1},
  {question: "The film was really ___.", options:["bored","boring","bore","to bore","boredom"], correct:1},
  {question: "Choose the correct question tag: You like coffee, ___?", options:["do you","don’t you","didn’t you","are you","isn’t it"], correct:1},
  {question: "I ___ him since we were children.", options:["know","knew","known","have known","has known"], correct:3},
  {question: "My house is ___ than yours.", options:["big","bigger","biggest","more big","most big"], correct:1},

  // B1 (Intermediate) 17-24
  {question: "If I ___ rich, I’d travel the world.", options:["am","was","were","be","been"], correct:2},
  {question: "By the time she arrived, we ___ eating.", options:["finish","have finished","had finished","finished","finishing"], correct:2},
  {question: "I don’t mind ___ late tonight.", options:["working","work","to work","worked","works"], correct:0},
  {question: "They said they ___ the project before the deadline.", options:["finish","finished","will finish","would finish","are finishing"], correct:3},
  {question: "Which sentence is correct? I look forward to meeting you.", options:["I look forward to meet you.","I look forward meeting you.","I look forward to meeting you.","I look forward meet you.","I look forwarded to meet you."], correct:2},
  {question: "Choose the correct phrasal verb: She ___ the lights before leaving.", options:["turned off","turned out","turned up","turned in","turned over"], correct:0},
  {question: "If you ___ earlier, we wouldn’t have missed the train.", options:["arrive","arrived","had arrived","have arrived","arriving"], correct:2},
  {question: "The man ___ wallet was stolen went to the police.", options:["which","who","whose","whom","that"], correct:2},

  // B2 (Upper-Intermediate) 25-34
  {question: "If he ___ earlier, he wouldn't have missed the bus.", options:["left","leaves","had left","has left","leaving"], correct:2},
  {question: "She advised me ___ more careful.", options:["be","being","to be","been","was"], correct:2},
  {question: "Despite ___ tired, he kept working.", options:["being","be","been","is","was"], correct:0},
  {question: "I would have helped you if I ___ about it.", options:["know","knew","had known","knows","known"], correct:2},
  {question: "I’m looking forward to ___ you next week.", options:["see","seeing","to see","saw","seen"], correct:1},
  {question: "It’s high time you ___ your homework.", options:["do","did","done","does","doing"], correct:1},
  {question: "He demanded that the documents ___ immediately.", options:["send","sent","be sent","is sent","was sent"], correct:2},
  {question: "Had I known, I ___ you earlier.", options:["call","called","would have called","have called","calls"], correct:2},
  {question: "I prefer tea ___ coffee.", options:["than","to","over","with","more"], correct:1},
  {question: "No sooner had we arrived ___ it started raining.", options:["than","when","as","then","and"], correct:0},

  // C1 (Advanced) 35-42
  {question: "The new policy requires that all employees ___ a training.", options:["attend","attends","attended","attending","to attend"], correct:0},
  {question: "He would have gone if he ___ invited.", options:["was","were","had been","is","being"], correct:2},
  {question: "Hardly ___ the meeting started when the fire alarm rang.", options:["had","have","has","having","was"], correct:0},
  {question: "I would rather you ___ here tomorrow.", options:["come","came","comes","coming","to come"], correct:1},
  {question: "It’s high time the project ___ completed.", options:["is","was","be","were","been"], correct:3},
  {question: "She talks as if she ___ the whole world.", options:["knows","knew","known","had known","was knowing"], correct:1},
  {question: "No one else but John ___ responsible for the mistake.", options:["is","was","be","being","has"], correct:1},
  {question: "The teacher demanded that the students ___ quiet.", options:["be","is","are","was","been"], correct:0},

  // C2 (Proficient) 43-50
  {question: "I wish I ___ studied harder for the exam.", options:["had","have","has","haved","having"], correct:0},
  {question: "Had she ___ the warning, the accident could have been avoided.", options:["heeded","heeds","heed","heeding","hadeed"], correct:0},
  {question: "If I ___ known you were coming, I would have baked a cake.", options:["had","have","has","haved","having"], correct:0},
  {question: "It’s high time we ___ the proposal thoroughly.", options:["review","reviews","reviewed","reviewing","to review"], correct:2},
  {question: "She acts as if she ___ the entire situation under control.", options:["has","have","had","haved","having"], correct:2},
  {question: "I would rather you ___ me the truth immediately.", options:["tell","told","tells","telling","to tell"], correct:1},
  {question: "If only he ___ listened to the advice given.", options:["had","have","has","haved","having"], correct:0},
  {question: "Hardly ___ I entered the room when everyone started applauding.", options:["had","have","has","having","was"], correct:0}
];

let currentQuestion = 0;
let score = 0;

/* NEW: minimal additions to collect data without changing your layout */
let userName = "";
let userEmail = "";
const answersLog = []; // logs selected answers for the sheet

const infoBox = document.getElementById("info");
const quizBox = document.getElementById("quiz-box");
const questionContainer = document.getElementById("question-container");
const progressBar = document.getElementById("progress-bar");
const resultBox = document.getElementById("result");

/* Ask for name/email via prompt (so the page layout stays the same) */
function askUserInfo() {
  userName = (prompt("Enter your name:") || "").trim();
  if (!userName) { alert("Name is required to start."); return false; }
  userEmail = (prompt("Enter your email:") || "").trim();
  const ok = /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(userEmail);
  if (!ok) { alert("Valid email is required to start."); return false; }
  return true;
}

function startQuiz() {
  if (!askUserInfo()) return; // collect user info once, no UI changes
  infoBox.style.display = "none";
  quizBox.style.display = "block";
  loadQuestion();
}

function loadQuestion() {
  if (currentQuestion >= quizData.length) {
    quizBox.style.display = "none";
    showLevel();
    return;
  }
  let q = quizData[currentQuestion];
  questionContainer.innerHTML = `
    <div class="question">${currentQuestion + 1}. ${q.question}</div>
    ${q.options.map((opt, i) => `<div class="option" onclick="checkAnswer(${i})">${opt}</div>`).join('')}
  `;
}

function checkAnswer(selected) {
  let q = quizData[currentQuestion];
  let options = document.querySelectorAll(".option");
  options.forEach((btn, idx) => {
    btn.style.pointerEvents = "none";
    if (idx === q.correct) btn.classList.add("correct");
    else if (idx === selected) btn.classList.add("wrong");
  });
  const correctHit = (selected === q.correct);
  if (correctHit) score++;
  // log the choice for Sheets
  answersLog.push({ q: currentQuestion + 1, selected, correct: q.correct, ok: correctHit });
  nextQuestion();
}

function skipQuestion() {
  // log skip too
  const q = quizData[currentQuestion];
  answersLog.push({ q: currentQuestion + 1, selected: null, correct: q.correct, ok: false, skipped: true });
  nextQuestion();
}

function nextQuestion() {
  currentQuestion++;
  progressBar.style.width = (currentQuestion / quizData.length * 100) + "%";
  setTimeout(loadQuestion, 500);
}

function showLevel() {
  let percent = (score / quizData.length) * 100;
  let level;
  if (percent <= 20) level = "A1 (Beginner)";
  else if (percent <= 40) level = "A2 (Elementary)";
  else if (percent <= 60) level = "B1 (Intermediate)";
  else if (percent <= 80) level = "B2 (Upper-Intermediate)";
  else if (percent <= 90) level = "C1 (Advanced)";
  else level = "C2 (Proficient)";
  
  resultBox.innerHTML = `
    🎉 Your English level is: <strong>${level}</strong><br>
    You answered ${score} out of ${quizData.length} questions correctly.<br><br>
    <button onclick="restartQuiz()">Restart Quiz</button>
  `;
  resultBox.style.display = "block";

  // ===== Send result to Google Sheet (simple POST: no headers to avoid preflight) =====
  if (SHEET_WEB_APP_URL && !SHEET_WEB_APP_URL.includes("PASTE_YOUR_WEB_APP_URL_HERE")) {
    const payload = {
      name: userName,
      email: userEmail,
      score,
      total: quizData.length,
      level,
      percent: Math.round(percent),
      answers: answersLog,
      userAgent: navigator.userAgent,
      ts: new Date().toISOString()
    };
    try {
      fetch(SHEET_WEB_APP_URL, { method: "POST", body: JSON.stringify(payload) });
    } catch (e) {
      console.warn("Could not reach Sheet endpoint:", e);
    }
  }
}

function restartQuiz() {
  currentQuestion = 0;
  score = 0;
  answersLog.length = 0;
  resultBox.style.display = "none";
  infoBox.style.display = "block";
  progressBar.style.width = "0%";
}
</script>
</body>
</html>


